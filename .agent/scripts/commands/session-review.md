---
description: Review session for completeness, best practices, and knowledge capture
agent: Build+
mode: subagent
---

Review the current session for completeness and aidevops workflow adherence.

Focus area: $ARGUMENTS

## Review Process

### Step 1: Gather Context

Run the helper script to collect session data:

```bash
~/.aidevops/agents/scripts/session-review-helper.sh gather
```

### Step 2: Analyze Objectives

Review what was accomplished in this session:

1. **Initial Request**: What did the user originally ask for?
2. **Branch Purpose**: Does the branch name reflect the work done?
3. **Commits Made**: Do commits align with the objective?
4. **Outstanding Items**: What remains incomplete?

Calculate completion score:
- 100%: All objectives met, no outstanding items
- 75-99%: Primary objective met, minor items remain
- 50-74%: Partial completion, significant work remains
- <50%: Major objectives incomplete

### Step 3: Check Workflow Adherence

Verify aidevops best practices:

| Practice | Check | Required |
|----------|-------|----------|
| Feature branch | Not on main/master | Yes |
| Pre-edit check | Ran before first edit | Yes |
| Atomic commits | Each commit is focused | Yes |
| TODO tracking | Tasks logged appropriately | Recommended |
| Quality checks | Linters run before commit | Recommended |

### Step 4: Identify Knowledge to Capture

Look for learnings that should be preserved:

1. **Corrections Made**: Did the AI make mistakes that were corrected?
2. **New Patterns**: Were new approaches discovered?
3. **Tool Issues**: Did any tools not work as expected?
4. **User Preferences**: Did the user express preferences?

For each learning, suggest where to document:
- Agent improvements → `@agent-review`
- Code patterns → Code comments or docs
- User preferences → `memory/` files
- Temporary workarounds → TODO.md

### Step 5: Session Health Assessment

Determine recommendation:

**End Session When:**
- All objectives complete
- PR merged
- Blocked on external factors
- Context becoming stale (long session)
- Topic shift to unrelated work

**Continue Session When:**
- More work in scope
- User wants to continue
- Related follow-up tasks

**Start New Session For:**
- Unrelated topics
- Clean context needed
- Parallel work on different branch

## Output Format

```text
# Session Review

**Branch**: {branch-name}
**Duration**: {approximate}
**Date**: {YYYY-MM-DD}

---

## Objective Completion: {score}%

### Completed
- [x] {item 1}
- [x] {item 2}

### Outstanding
- [ ] {item} - {reason/next step}

---

## Workflow Adherence

### Followed
- [x] {practice}

### Improvements Needed
- [ ] {practice} - {recommendation}

---

## Knowledge Capture

### Should Document
- {learning}: {suggested location}

### Action Items
1. {specific action}

---

## Session Recommendation

**Verdict**: {Continue | End Session | Start New Session}

### Immediate Actions
1. {action}

### For Future Sessions
- {topic}: suggest branch `{type}/{name}`

---

*Review generated by /session-review*
```

## Quick Review (Summary Only)

For a quick status check without full analysis:

```bash
~/.aidevops/agents/scripts/session-review-helper.sh summary
```

## Integration Points

- **Before PR**: Run to ensure nothing forgotten
- **Before ending session**: Capture learnings
- **After Ralph loop**: Verify completion promise was truly met
- **On topic shift**: Decide whether to continue or start fresh
