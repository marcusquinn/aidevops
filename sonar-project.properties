# SonarCloud configuration for AI DevOps Framework
# Project identification
sonar.projectKey=marcusquinn_aidevops
sonar.organization=marcusquinn

# This is the name and version displayed in the SonarCloud UI
sonar.projectName=AI DevOps Framework
sonar.projectVersion=2.110.13

# Path is relative to the sonar-project.properties file
sonar.sources=.agents,configs,templates

# Encoding of the source code. Default is default system encoding
sonar.sourceEncoding=UTF-8

# Exclusions - files and directories to exclude from analysis
sonar.exclusions=**/*.txt,**/tmp/**,**/logs/**,.git/**,**/*.json

# Coverage exclusions (shell scripts, docs, and example files don't have traditional coverage)
sonar.coverage.exclusions=**/*.sh,**/*.md,**/*.json,**/*.yml,**/*.yaml,configs/**/*.py,**/example*.py,**/*-example.py

# Duplication exclusions for configuration templates and documentation
sonar.cpd.exclusions=configs/**/*.txt,.agents/**/*.md,templates/**/*.md

# Security hotspot exclusions for DevOps framework patterns
# These are intentional behaviors required for CLI tool installation and local development
#
# RATIONALE FOR BLANKET EXCLUSIONS:
# This is a DevOps automation framework where these patterns are fundamental:
# - npm install without --ignore-scripts: Required for CLI binaries with native dependencies
#   (e.g., playwright, puppeteer, esbuild). Using --ignore-scripts breaks these tools.
# - HTTP localhost: All http:// URLs in this codebase are either:
#   1. localhost/127.0.0.1 references for local dev servers (safe internal traffic)
#   2. Protocol detection code checking for insecure URLs (not using them)
#   3. XML namespace declarations (e.g., sitemaps.org schema)
# - curl without --proto: All curl commands either:
#   1. Use explicit https:// URLs (already secure)
#   2. Target localhost (no TLS needed for loopback)
#   3. Are official installers from verified HTTPS sources (bun.sh, homebrew)
#
# Individual file patterns were tried but 22 scripts don't match *-helper.sh/*-setup.sh/*-cli.sh
# patterns. Maintaining per-file exclusions is unsustainable for a 70k+ line codebase.
sonar.issue.ignore.multicriteria=e1,e2,e3,e4,e5,e6,e7,e8,e9,e10

# Ignore "npm install without --ignore-scripts" (shelldre:S6505) - all shell scripts
# Required for CLI tool installation with native dependencies
sonar.issue.ignore.multicriteria.e1.ruleKey=shelldre:S6505
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.sh

# Ignore "clear-text protocol" (shelldre:S5332) - all shell scripts
# All HTTP URLs are localhost, protocol detection, or XML namespaces
sonar.issue.ignore.multicriteria.e2.ruleKey=shelldre:S5332
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*.sh

# Ignore "HTTPS not enforced" (shelldre:S6506) - all shell scripts
# All curl commands use HTTPS URLs, localhost, or verified official installers
sonar.issue.ignore.multicriteria.e3.ruleKey=shelldre:S6506
sonar.issue.ignore.multicriteria.e3.resourceKey=**/*.sh

# Code smell exclusions for shell scripts
# These are stylistic preferences that would require massive refactoring of 70k+ lines
# The codebase follows consistent patterns that work well for this DevOps framework

# S7679: Positional parameters - Standard shell argument parsing pattern used consistently
# The while/case pattern for argument parsing is idiomatic and readable
sonar.issue.ignore.multicriteria.e4.ruleKey=shelldre:S7679
sonar.issue.ignore.multicriteria.e4.resourceKey=**/*.sh

# S1192: String literals - Many repeated strings are intentional (color codes, log prefixes)
# Extracting these to constants would reduce readability in shell scripts
sonar.issue.ignore.multicriteria.e5.ruleKey=shelldre:S1192
sonar.issue.ignore.multicriteria.e5.resourceKey=**/*.sh

# S7677: Error messages to stderr - Many "errors" are actually user-facing status messages
# The framework uses colored output for UX, not traditional stderr separation
sonar.issue.ignore.multicriteria.e6.ruleKey=shelldre:S7677
sonar.issue.ignore.multicriteria.e6.resourceKey=**/*.sh

# S1135: TODO comments - These are tracked intentionally for future work
sonar.issue.ignore.multicriteria.e7.ruleKey=shelldre:S1135
sonar.issue.ignore.multicriteria.e7.resourceKey=**/*.sh

# Note: S1481 (unused variables) and S1066 (collapsible ifs) are NOT excluded
# These rules catch real issues and should be fixed in new code

# S131: Missing default case - Many case statements intentionally skip unknown options
# The framework handles unknown commands at the main dispatch level
sonar.issue.ignore.multicriteria.e8.ruleKey=shelldre:S131
sonar.issue.ignore.multicriteria.e8.resourceKey=**/*.sh

# S7682: Explicit return statements - Functions use implicit returns where appropriate
# Shell convention allows implicit return 0 for successful functions
sonar.issue.ignore.multicriteria.e9.ruleKey=shelldre:S7682
sonar.issue.ignore.multicriteria.e9.resourceKey=**/*.sh

# S2148: Underscores in numeric literals - Shell doesn't support this syntax
# This rule is for languages like Java/Python, not applicable to shell
sonar.issue.ignore.multicriteria.e10.ruleKey=shelldre:S2148
sonar.issue.ignore.multicriteria.e10.resourceKey=**/*.sh

# Project metadata
sonar.links.homepage=https://github.com/marcusquinn/aidevops
sonar.links.ci=https://github.com/marcusquinn/aidevops/actions
sonar.links.scm=https://github.com/marcusquinn/aidevops
sonar.links.issue=https://github.com/marcusquinn/aidevops/issues
