# SonarCloud configuration for AI DevOps Framework
# Project identification
sonar.projectKey=marcusquinn_aidevops
sonar.organization=marcusquinn

# This is the name and version displayed in the SonarCloud UI
sonar.projectName=AI DevOps Framework
sonar.projectVersion=2.27.2

# Path is relative to the sonar-project.properties file
sonar.sources=.agent,configs,templates

# Encoding of the source code. Default is default system encoding
sonar.sourceEncoding=UTF-8

# Exclusions - files and directories to exclude from analysis
sonar.exclusions=**/*.txt,**/tmp/**,**/logs/**,.git/**,**/*.json

# Coverage exclusions (shell scripts, docs, and example files don't have traditional coverage)
sonar.coverage.exclusions=**/*.sh,**/*.md,**/*.json,**/*.yml,**/*.yaml,configs/**/*.py,**/example*.py,**/*-example.py

# Duplication exclusions for configuration templates and documentation
sonar.cpd.exclusions=configs/**/*.txt,.agent/**/*.md,templates/**/*.md

# Security hotspot exclusions for DevOps framework patterns
# These are intentional behaviors required for CLI tool installation and local development
# - npm install without --ignore-scripts: Required for CLI binaries with native dependencies
# - HTTP localhost: Safe internal traffic for local dev servers (localhost:port)
# - HTTP protocol detection: Checking for insecure URLs, not using them
# - curl|bash installers: Official installers from verified HTTPS sources
sonar.issue.ignore.multicriteria=e1,e2,e3,e4,e5,e6,e7,e8,e9,e10,e11

# Ignore "npm install without --ignore-scripts" (shell:S6505) - required for CLI tool installation
sonar.issue.ignore.multicriteria.e1.ruleKey=shell:S6505
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*-helper.sh

sonar.issue.ignore.multicriteria.e2.ruleKey=shell:S6505
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*-setup.sh

sonar.issue.ignore.multicriteria.e3.ruleKey=shell:S6505
sonar.issue.ignore.multicriteria.e3.resourceKey=**/*-cli.sh

# Ignore "clear-text protocol" (shell:S5332) - localhost dev servers, HTTP detection, installers
# These scripts use http://localhost for local dev, detect http:// URLs, or use official installers
sonar.issue.ignore.multicriteria.e4.ruleKey=shell:S5332
sonar.issue.ignore.multicriteria.e4.resourceKey=**/*-helper.sh

sonar.issue.ignore.multicriteria.e5.ruleKey=shell:S5332
sonar.issue.ignore.multicriteria.e5.resourceKey=**/*-setup.sh

sonar.issue.ignore.multicriteria.e6.ruleKey=shell:S5332
sonar.issue.ignore.multicriteria.e6.resourceKey=**/*-cli.sh

# Ignore "HTTPS not enforced" (shell:S6506) - curl|bash for official installers from verified sources
sonar.issue.ignore.multicriteria.e7.ruleKey=shell:S6506
sonar.issue.ignore.multicriteria.e7.resourceKey=**/*-helper.sh

sonar.issue.ignore.multicriteria.e8.ruleKey=shell:S6506
sonar.issue.ignore.multicriteria.e8.resourceKey=**/*-setup.sh

sonar.issue.ignore.multicriteria.e9.ruleKey=shell:S6506
sonar.issue.ignore.multicriteria.e9.resourceKey=**/*-cli.sh

# Ignore S5332/S6506 for verify scripts (HTTP redirect testing requires HTTP)
sonar.issue.ignore.multicriteria.e10.ruleKey=shell:S5332
sonar.issue.ignore.multicriteria.e10.resourceKey=**/*-verify.sh

sonar.issue.ignore.multicriteria.e11.ruleKey=shell:S6506
sonar.issue.ignore.multicriteria.e11.resourceKey=**/*-verify.sh

# Project metadata
sonar.links.homepage=https://github.com/marcusquinn/aidevops
sonar.links.ci=https://github.com/marcusquinn/aidevops/actions
sonar.links.scm=https://github.com/marcusquinn/aidevops
sonar.links.issue=https://github.com/marcusquinn/aidevops/issues
